"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4888],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>u});var l=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,l,r=function(e,t){if(null==e)return{};var n,l,r={},a=Object.keys(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=l.createContext({}),m=function(e){var t=l.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=m(e.components);return l.createElement(o.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},k=l.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,o=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),k=m(n),u=r,c=k["".concat(o,".").concat(u)]||k[u]||d[u]||a;return n?l.createElement(c,i(i({ref:t},s),{},{components:n})):l.createElement(c,i({ref:t},s))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=k;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p.mdxType="string"==typeof e?e:r,i[1]=p;for(var m=2;m<a;m++)i[m]=n[m];return l.createElement.apply(null,i)}return l.createElement.apply(null,n)}k.displayName="MDXCreateElement"},8210:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>p,toc:()=>m});var l=n(7462),r=(n(7294),n(3905));const a={id:"mysql-alter",title:"MySQL ALTER\u547d\u4ee4",sidebar_position:24},i="MySQL ALTER\u547d\u4ee4",p={unversionedId:"mysql/mysql-alter",id:"mysql/mysql-alter",title:"MySQL ALTER\u547d\u4ee4",description:"\u5f53\u6211\u4eec\u9700\u8981\u4fee\u6539\u6570\u636e\u8868\u540d\u6216\u8005\u4fee\u6539\u6570\u636e\u8868\u5b57\u6bb5\u65f6\uff0c\u5c31\u9700\u8981\u4f7f\u7528\u5230MySQL ALTER\u547d\u4ee4\u3002",source:"@site/docs/mysql/mysql-alter.md",sourceDirName:"mysql",slug:"/mysql/mysql-alter",permalink:"/mysql/mysql-alter",draft:!1,tags:[],version:"current",sidebarPosition:24,frontMatter:{id:"mysql-alter",title:"MySQL ALTER\u547d\u4ee4",sidebar_position:24},sidebar:"MySQL \u6559\u7a0b",previous:{title:"MySQL \u4e8b\u52a1",permalink:"/mysql/mysql-transaction"},next:{title:"MySQL \u7d22\u5f15",permalink:"/mysql/mysql-index"}},o={},m=[{value:"\u5220\u9664\uff0c\u6dfb\u52a0\u6216\u4fee\u6539\u8868\u5b57\u6bb5",id:"\u5220\u9664\u6dfb\u52a0\u6216\u4fee\u6539\u8868\u5b57\u6bb5",level:2},{value:"\u4fee\u6539\u5b57\u6bb5\u7c7b\u578b\u53ca\u540d\u79f0",id:"\u4fee\u6539\u5b57\u6bb5\u7c7b\u578b\u53ca\u540d\u79f0",level:2},{value:"ALTER TABLE \u5bf9 Null \u503c\u548c\u9ed8\u8ba4\u503c\u7684\u5f71\u54cd",id:"alter-table-\u5bf9-null-\u503c\u548c\u9ed8\u8ba4\u503c\u7684\u5f71\u54cd",level:2},{value:"\u4fee\u6539\u5b57\u6bb5\u9ed8\u8ba4\u503c",id:"\u4fee\u6539\u5b57\u6bb5\u9ed8\u8ba4\u503c",level:2},{value:"\u4fee\u6539\u6570\u636e\u8868\u7c7b\u578b",id:"\u4fee\u6539\u6570\u636e\u8868\u7c7b\u578b",level:2},{value:"\u4fee\u6539\u8868\u540d",id:"\u4fee\u6539\u8868\u540d",level:2}],s={toc:m};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,l.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"mysql-alter\u547d\u4ee4"},"MySQL ALTER\u547d\u4ee4"),(0,r.kt)("p",null,"\u5f53\u6211\u4eec\u9700\u8981\u4fee\u6539\u6570\u636e\u8868\u540d\u6216\u8005\u4fee\u6539\u6570\u636e\u8868\u5b57\u6bb5\u65f6\uff0c\u5c31\u9700\u8981\u4f7f\u7528\u5230MySQL ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER"),"\u547d\u4ee4\u3002"),(0,r.kt)("p",null,"\u5f00\u59cb\u672c\u7ae0\u6559\u7a0b\u524d\u8ba9\u6211\u4eec\u5148\u521b\u5efa\u4e00\u5f20\u8868\uff0c\u8868\u540d\u4e3a\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"testalter_tbl"),"\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"root@host# mysql -u root -p password;\nEnter password:*******\nmysql> use RUNOOB;\nDatabase changed\nmysql> create table testalter_tbl\n    -> (\n    -> i INT,\n    -> c CHAR(1)\n    -> );\nQuery OK, 0 rows affected (0.05 sec)\nmysql> SHOW COLUMNS FROM testalter_tbl;\n+-------+---------+------+-----+---------+-------+\n| Field | Type    | Null | Key | Default | Extra |\n+-------+---------+------+-----+---------+-------+\n| i     | int(11) | YES  |     | NULL    |       |\n| c     | char(1) | YES  |     | NULL    |       |\n+-------+---------+------+-----+---------+-------+\n2 rows in set (0.00 sec)\n")),(0,r.kt)("h2",{id:"\u5220\u9664\u6dfb\u52a0\u6216\u4fee\u6539\u8868\u5b57\u6bb5"},"\u5220\u9664\uff0c\u6dfb\u52a0\u6216\u4fee\u6539\u8868\u5b57\u6bb5"),(0,r.kt)("p",null,"\u5982\u4e0b\u547d\u4ee4\u4f7f\u7528\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER")," \u547d\u4ee4\u53ca ",(0,r.kt)("inlineCode",{parentName:"p"},"DROP")," \u5b50\u53e5\u6765\u5220\u9664\u4ee5\u4e0a\u521b\u5efa\u8868\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"i")," \u5b57\u6bb5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> ALTER TABLE testalter_tbl  DROP i;\n")),(0,r.kt)("p",null,"\u5982\u679c\u6570\u636e\u8868\u4e2d\u53ea\u5269\u4f59\u4e00\u4e2a\u5b57\u6bb5\u5219\u65e0\u6cd5\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"DROP"),"\u6765\u5220\u9664\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,"MySQL \u4e2d\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"ADD")," \u5b50\u53e5\u6765\u5411\u6570\u636e\u8868\u4e2d\u6dfb\u52a0\u5217\uff0c\u5982\u4e0b\u5b9e\u4f8b\u5728\u8868 ",(0,r.kt)("inlineCode",{parentName:"p"},"testalter_tbl")," \u4e2d\u6dfb\u52a0 ",(0,r.kt)("inlineCode",{parentName:"p"},"i")," \u5b57\u6bb5\uff0c\u5e76\u5b9a\u4e49\u6570\u636e\u7c7b\u578b:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> ALTER TABLE testalter_tbl ADD i INT;\n")),(0,r.kt)("p",null,"\u6267\u884c\u4ee5\u4e0a\u547d\u4ee4\u540e\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"i")," \u5b57\u6bb5\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5230\u6570\u636e\u8868\u5b57\u6bb5\u7684\u672b\u5c3e\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> SHOW COLUMNS FROM testalter_tbl;\n+-------+---------+------+-----+---------+-------+\n| Field | Type    | Null | Key | Default | Extra |\n+-------+---------+------+-----+---------+-------+\n| c     | char(1) | YES  |     | NULL    |       |\n| i     | int(11) | YES  |     | NULL    |       |\n+-------+---------+------+-----+---------+-------+\n2 rows in set (0.00 sec)\n")),(0,r.kt)("p",null,"\u5982\u679c\u4f60\u9700\u8981\u6307\u5b9a\u65b0\u589e\u5b57\u6bb5\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u4f7f\u7528MySQL\u63d0\u4f9b\u7684\u5173\u952e\u5b57 ",(0,r.kt)("inlineCode",{parentName:"p"},"FIRST")," (\u8bbe\u5b9a\u4f4d\u7b2c\u4e00\u5217)\uff0c ",(0,r.kt)("inlineCode",{parentName:"p"},"AFTER")," \u5b57\u6bb5\u540d\uff08\u8bbe\u5b9a\u4f4d\u4e8e\u67d0\u4e2a\u5b57\u6bb5\u4e4b\u540e\uff09\u3002"),(0,r.kt)("p",null,"\u5c1d\u8bd5\u4ee5\u4e0b ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER TABLE")," \u8bed\u53e5, \u5728\u6267\u884c\u6210\u529f\u540e\uff0c\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"SHOW COLUMNS")," \u67e5\u770b\u8868\u7ed3\u6784\u7684\u53d8\u5316\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER TABLE testalter_tbl DROP i;\nALTER TABLE testalter_tbl ADD i INT FIRST;\nALTER TABLE testalter_tbl DROP i;\nALTER TABLE testalter_tbl ADD i INT AFTER c;\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"FIRST")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"AFTER")," \u5173\u952e\u5b57\u53ef\u7528\u4e8e ",(0,r.kt)("inlineCode",{parentName:"p"},"ADD")," \u4e0e ",(0,r.kt)("inlineCode",{parentName:"p"},"MODIFY")," \u5b50\u53e5\uff0c\u6240\u4ee5\u5982\u679c\u4f60\u60f3\u91cd\u7f6e\u6570\u636e\u8868\u5b57\u6bb5\u7684\u4f4d\u7f6e\u5c31\u9700\u8981\u5148\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"DROP")," \u5220\u9664\u5b57\u6bb5\u7136\u540e\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"ADD")," \u6765\u6dfb\u52a0\u5b57\u6bb5\u5e76\u8bbe\u7f6e\u4f4d\u7f6e\u3002"),(0,r.kt)("h2",{id:"\u4fee\u6539\u5b57\u6bb5\u7c7b\u578b\u53ca\u540d\u79f0"},"\u4fee\u6539\u5b57\u6bb5\u7c7b\u578b\u53ca\u540d\u79f0"),(0,r.kt)("p",null,"\u5982\u679c\u9700\u8981\u4fee\u6539\u5b57\u6bb5\u7c7b\u578b\u53ca\u540d\u79f0, \u4f60\u53ef\u4ee5\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER"),"\u547d\u4ee4\u4e2d\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"MODIFY")," \u6216 ",(0,r.kt)("inlineCode",{parentName:"p"},"CHANGE")," \u5b50\u53e5 \u3002"),(0,r.kt)("p",null,"\u4f8b\u5982\uff0c\u628a\u5b57\u6bb5 ",(0,r.kt)("inlineCode",{parentName:"p"},"c")," \u7684\u7c7b\u578b\u4ece ",(0,r.kt)("inlineCode",{parentName:"p"},"CHAR(1)")," \u6539\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"CHAR(10)"),"\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> ALTER TABLE testalter_tbl MODIFY c CHAR(10);\n")),(0,r.kt)("p",null,"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"CHANGE")," \u5b50\u53e5, \u8bed\u6cd5\u6709\u5f88\u5927\u7684\u4e0d\u540c\u3002 \u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"CHANGE")," \u5173\u952e\u5b57\u4e4b\u540e\uff0c\u7d27\u8ddf\u7740\u7684\u662f\u4f60\u8981\u4fee\u6539\u7684\u5b57\u6bb5\u540d\uff0c\u7136\u540e\u6307\u5b9a\u65b0\u5b57\u6bb5\u540d\u53ca\u7c7b\u578b\u3002\u5c1d\u8bd5\u5982\u4e0b\u5b9e\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> ALTER TABLE testalter_tbl CHANGE i j BIGINT;\nmysql> ALTER TABLE testalter_tbl CHANGE j j INT;\n")),(0,r.kt)("h2",{id:"alter-table-\u5bf9-null-\u503c\u548c\u9ed8\u8ba4\u503c\u7684\u5f71\u54cd"},"ALTER TABLE \u5bf9 Null \u503c\u548c\u9ed8\u8ba4\u503c\u7684\u5f71\u54cd"),(0,r.kt)("p",null,"\u5f53\u4f60\u4fee\u6539\u5b57\u6bb5\u65f6\uff0c\u4f60\u53ef\u4ee5\u6307\u5b9a\u662f\u5426\u5305\u542b\u503c\u6216\u8005\u662f\u5426\u8bbe\u7f6e\u9ed8\u8ba4\u503c\u3002"),(0,r.kt)("p",null,"\u4ee5\u4e0b\u5b9e\u4f8b\uff0c\u6307\u5b9a\u5b57\u6bb5 ",(0,r.kt)("inlineCode",{parentName:"p"},"j")," \u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"NOT NULL")," \u4e14\u9ed8\u8ba4\u503c\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"100")," \u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> ALTER TABLE testalter_tbl \n    -> MODIFY j BIGINT NOT NULL DEFAULT 100;\n")),(0,r.kt)("p",null,"\u5982\u679c\u4f60\u4e0d\u8bbe\u7f6e\u9ed8\u8ba4\u503c\uff0cMySQL\u4f1a\u81ea\u52a8\u8bbe\u7f6e\u8be5\u5b57\u6bb5\u9ed8\u8ba4\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"NULL"),"\u3002"),(0,r.kt)("h2",{id:"\u4fee\u6539\u5b57\u6bb5\u9ed8\u8ba4\u503c"},"\u4fee\u6539\u5b57\u6bb5\u9ed8\u8ba4\u503c"),(0,r.kt)("p",null,"\u4f60\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER")," \u6765\u4fee\u6539\u5b57\u6bb5\u7684\u9ed8\u8ba4\u503c\uff0c\u5c1d\u8bd5\u4ee5\u4e0b\u5b9e\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> ALTER TABLE testalter_tbl ALTER i SET DEFAULT 1000;\nmysql> SHOW COLUMNS FROM testalter_tbl;\n+-------+---------+------+-----+---------+-------+\n| Field | Type    | Null | Key | Default | Extra |\n+-------+---------+------+-----+---------+-------+\n| c     | char(1) | YES  |     | NULL    |       |\n| i     | int(11) | YES  |     | 1000    |       |\n+-------+---------+------+-----+---------+-------+\n2 rows in set (0.00 sec)\n")),(0,r.kt)("p",null,"\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER")," \u547d\u4ee4\u53ca ",(0,r.kt)("inlineCode",{parentName:"p"},"DROP"),"\u5b50\u53e5\u6765\u5220\u9664\u5b57\u6bb5\u7684\u9ed8\u8ba4\u503c\uff0c\u5982\u4e0b\u5b9e\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> ALTER TABLE testalter_tbl ALTER i DROP DEFAULT;\nmysql> SHOW COLUMNS FROM testalter_tbl;\n+-------+---------+------+-----+---------+-------+\n| Field | Type    | Null | Key | Default | Extra |\n+-------+---------+------+-----+---------+-------+\n| c     | char(1) | YES  |     | NULL    |       |\n| i     | int(11) | YES  |     | NULL    |       |\n+-------+---------+------+-----+---------+-------+\n2 rows in set (0.00 sec)\n\n")),(0,r.kt)("h2",{id:"\u4fee\u6539\u6570\u636e\u8868\u7c7b\u578b"},"\u4fee\u6539\u6570\u636e\u8868\u7c7b\u578b"),(0,r.kt)("p",null,"\u4fee\u6539\u6570\u636e\u8868\u7c7b\u578b\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER")," \u547d\u4ee4\u53ca ",(0,r.kt)("inlineCode",{parentName:"p"},"TYPE")," \u5b50\u53e5\u6765\u5b8c\u6210\u3002\u5c1d\u8bd5\u4ee5\u4e0b\u5b9e\u4f8b\uff0c\u6211\u4eec\u5c06\u8868 ",(0,r.kt)("inlineCode",{parentName:"p"},"testalter_tbl")," \u7684\u7d22\u5f15\u5f15\u64ce\u7c7b\u578b\u4fee\u6539\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"MYISAM")," \uff1a"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"\u6ce8\u610f\uff1a\u67e5\u770b\u6570\u636e\u8868\u7c7b\u578b\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"SHOW TABLE STATUS")," \u8bed\u53e5\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> ALTER TABLE testalter_tbl ENGINE = MYISAM;\nmysql>  SHOW TABLE STATUS LIKE 'testalter_tbl'\\G\n*************************** 1. row ****************\n           Name: testalter_tbl\n           Type: MyISAM\n     Row_format: Fixed\n           Rows: 0\n Avg_row_length: 0\n    Data_length: 0\nMax_data_length: 25769803775\n   Index_length: 1024\n      Data_free: 0\n Auto_increment: NULL\n    Create_time: 2007-06-03 08:04:36\n    Update_time: 2007-06-03 08:04:36\n     Check_time: NULL\n Create_options:\n        Comment:\n1 row in set (0.00 sec)\n")),(0,r.kt)("h2",{id:"\u4fee\u6539\u8868\u540d"},"\u4fee\u6539\u8868\u540d"),(0,r.kt)("p",null,"\u5982\u679c\u9700\u8981\u4fee\u6539\u6570\u636e\u8868\u7684\u540d\u79f0\uff0c\u53ef\u4ee5\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER TABLE")," \u8bed\u53e5\u4e2d\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"RENAME")," \u5b50\u53e5\u6765\u5b9e\u73b0\u3002"),(0,r.kt)("p",null,"\u5c1d\u8bd5\u4ee5\u4e0b\u5b9e\u4f8b\u5c06\u6570\u636e\u8868 ",(0,r.kt)("inlineCode",{parentName:"p"},"testalter_tbl")," \u91cd\u547d\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"alter_tbl"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mysql> ALTER TABLE testalter_tbl RENAME TO alter_tbl;\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ALTER")," \u547d\u4ee4\u8fd8\u53ef\u4ee5\u7528\u6765\u521b\u5efa\u53ca\u5220\u9664MySQL\u6570\u636e\u8868\u7684\u7d22\u5f15\uff0c\u8be5\u529f\u80fd\u6211\u4eec\u4f1a\u5728\u63a5\u4e0b\u6765\u7684\u7ae0\u8282\u4e2d\u4ecb\u7ecd\u3002"))}d.isMDXComponent=!0}}]);