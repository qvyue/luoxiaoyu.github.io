"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[290],{3905:(n,e,t)=>{t.d(e,{Zo:()=>p,kt:()=>c});var r=t(7294);function l(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function s(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function o(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?s(Object(t),!0).forEach((function(e){l(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function a(n,e){if(null==n)return{};var t,r,l=function(n,e){if(null==n)return{};var t,r,l={},s=Object.keys(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)>=0||(l[t]=n[t]);return l}(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(l[t]=n[t])}return l}var i=r.createContext({}),u=function(n){var e=r.useContext(i),t=e;return n&&(t="function"==typeof n?n(e):o(o({},e),n)),t},p=function(n){var e=u(n.components);return r.createElement(i.Provider,{value:e},n.children)},y={inlineCode:"code",wrapper:function(n){var e=n.children;return r.createElement(r.Fragment,{},e)}},m=r.forwardRef((function(n,e){var t=n.components,l=n.mdxType,s=n.originalType,i=n.parentName,p=a(n,["components","mdxType","originalType","parentName"]),m=u(t),c=l,d=m["".concat(i,".").concat(c)]||m[c]||y[c]||s;return t?r.createElement(d,o(o({ref:e},p),{},{components:t})):r.createElement(d,o({ref:e},p))}));function c(n,e){var t=arguments,l=e&&e.mdxType;if("string"==typeof n||l){var s=t.length,o=new Array(s);o[0]=m;var a={};for(var i in e)hasOwnProperty.call(e,i)&&(a[i]=e[i]);a.originalType=n,a.mdxType="string"==typeof n?n:l,o[1]=a;for(var u=2;u<s;u++)o[u]=t[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},4493:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>i,contentTitle:()=>o,default:()=>y,frontMatter:()=>s,metadata:()=>a,toc:()=>u});var r=t(7462),l=(t(7294),t(3905));const s={id:"mysql-administration",title:"MySQL \u7ba1\u7406",sidebar_position:3},o="MySQL \u7ba1\u7406",a={unversionedId:"mysql/mysql-administration",id:"mysql/mysql-administration",title:"MySQL \u7ba1\u7406",description:"\u542f\u52a8\u53ca\u5173\u95ed MySQL \u670d\u52a1\u5668",source:"@site/docs/mysql/mysql-administration.md",sourceDirName:"mysql",slug:"/mysql/mysql-administration",permalink:"/mysql/mysql-administration",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"mysql-administration",title:"MySQL \u7ba1\u7406",sidebar_position:3},sidebar:"MySQL \u6559\u7a0b",previous:{title:"MySQL \u5b89\u88c5",permalink:"/mysql/mysql-install"}},i={},u=[{value:"\u542f\u52a8\u53ca\u5173\u95ed MySQL \u670d\u52a1\u5668",id:"\u542f\u52a8\u53ca\u5173\u95ed-mysql-\u670d\u52a1\u5668",level:2},{value:"Windows \u7cfb\u7edf\u4e0b",id:"windows-\u7cfb\u7edf\u4e0b",level:3},{value:"Linux \u7cfb\u7edf\u4e0b",id:"linux-\u7cfb\u7edf\u4e0b",level:3},{value:"MySQL \u7528\u6237\u8bbe\u7f6e",id:"mysql-\u7528\u6237\u8bbe\u7f6e",level:2},{value:"/etc/my.cnf \u6587\u4ef6\u914d\u7f6e",id:"etcmycnf-\u6587\u4ef6\u914d\u7f6e",level:2},{value:"\u7ba1\u7406MySQL\u7684\u547d\u4ee4",id:"\u7ba1\u7406mysql\u7684\u547d\u4ee4",level:2}],p={toc:u};function y(n){let{components:e,...t}=n;return(0,l.kt)("wrapper",(0,r.Z)({},p,t,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"mysql-\u7ba1\u7406"},"MySQL \u7ba1\u7406"),(0,l.kt)("h2",{id:"\u542f\u52a8\u53ca\u5173\u95ed-mysql-\u670d\u52a1\u5668"},"\u542f\u52a8\u53ca\u5173\u95ed MySQL \u670d\u52a1\u5668"),(0,l.kt)("h3",{id:"windows-\u7cfb\u7edf\u4e0b"},"Windows \u7cfb\u7edf\u4e0b"),(0,l.kt)("p",null,"\u5728 Windows \u7cfb\u7edf\u4e0b\uff0c\u6253\u5f00\u547d\u4ee4\u7a97\u53e3(cmd)\uff0c\u8fdb\u5165 MySQL \u5b89\u88c5\u76ee\u5f55\u7684 bin \u76ee\u5f55\u3002"),(0,l.kt)("p",null,"\u542f\u52a8\uff1a"),(0,l.kt)("p",null,"cd c:/mysql/bin\nmysqld --console\n\u5173\u95ed\uff1a"),(0,l.kt)("p",null,"cd c:/mysql/bin\nmysqladmin -uroot shutdown"),(0,l.kt)("h3",{id:"linux-\u7cfb\u7edf\u4e0b"},"Linux \u7cfb\u7edf\u4e0b"),(0,l.kt)("p",null,"\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u6765\u68c0\u67e5MySQL\u670d\u52a1\u5668\u662f\u5426\u542f\u52a8\uff1a"),(0,l.kt)("p",null,"ps -ef | grep mysqld\n\u5982\u679cMySql\u5df2\u7ecf\u542f\u52a8\uff0c\u4ee5\u4e0a\u547d\u4ee4\u5c06\u8f93\u51famysql\u8fdb\u7a0b\u5217\u8868\uff0c \u5982\u679cmysql\u672a\u542f\u52a8\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u542f\u52a8mysql\u670d\u52a1\u5668:"),(0,l.kt)("p",null,"root@host# cd /usr/bin\n./mysqld_safe &\n\u5982\u679c\u4f60\u60f3\u5173\u95ed\u76ee\u524d\u8fd0\u884c\u7684 MySQL \u670d\u52a1\u5668, \u4f60\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4:"),(0,l.kt)("p",null,"root@host# cd /usr/bin\n./mysqladmin -u root -p shutdown\nEnter password: ",(0,l.kt)("strong",{parentName:"p"},"**")),(0,l.kt)("h2",{id:"mysql-\u7528\u6237\u8bbe\u7f6e"},"MySQL \u7528\u6237\u8bbe\u7f6e"),(0,l.kt)("p",null,"\u5982\u679c\u4f60\u9700\u8981\u6dfb\u52a0 MySQL \u7528\u6237\uff0c\u4f60\u53ea\u9700\u8981\u5728 mysql \u6570\u636e\u5e93\u4e2d\u7684 user \u8868\u6dfb\u52a0\u65b0\u7528\u6237\u5373\u53ef\u3002"),(0,l.kt)("p",null,"\u4ee5\u4e0b\u4e3a\u6dfb\u52a0\u7528\u6237\u7684\u5b9e\u4f8b\uff0c\u7528\u6237\u540d\u4e3aguest\uff0c\u5bc6\u7801\u4e3aguest123\uff0c\u5e76\u6388\u6743\u7528\u6237\u53ef\u8fdb\u884c SELECT, INSERT \u548c UPDATE\u64cd\u4f5c\u6743\u9650\uff1a"),(0,l.kt)("p",null,"root@host# mysql -u root -p\nEnter password:",(0,l.kt)("strong",{parentName:"p"},"***"),"\nmysql> use mysql;\nDatabase changed"),(0,l.kt)("p",null,"mysql> INSERT INTO user\n(host, user, password,\nselect_priv, insert_priv, update_priv)\nVALUES ('localhost', 'guest',\nPASSWORD('guest123'), 'Y', 'Y', 'Y');\nQuery OK, 1 row affected (0.20 sec)"),(0,l.kt)("p",null,"mysql> FLUSH PRIVILEGES;\nQuery OK, 1 row affected (0.01 sec)"),(0,l.kt)("p",null,"mysql> SELECT host, user, password FROM user WHERE user = 'guest';\n+-----------+---------+------------------+\n| host      | user    | password         |\n+-----------+---------+------------------+\n| localhost | guest | 6f8c114b58f2ce9e |\n+-----------+---------+------------------+\n1 row in set (0.00 sec)\n\u5728\u6dfb\u52a0\u7528\u6237\u65f6\uff0c\u8bf7\u6ce8\u610f\u4f7f\u7528MySQL\u63d0\u4f9b\u7684 PASSWORD() \u51fd\u6570\u6765\u5bf9\u5bc6\u7801\u8fdb\u884c\u52a0\u5bc6\u3002 \u4f60\u53ef\u4ee5\u5728\u4ee5\u4e0a\u5b9e\u4f8b\u770b\u5230\u7528\u6237\u5bc6\u7801\u52a0\u5bc6\u540e\u4e3a\uff1a 6f8c114b58f2ce9e."),(0,l.kt)("p",null,"\u6ce8\u610f\uff1a\u5728 MySQL5.7 \u4e2d user \u8868\u7684 password \u5df2\u6362\u6210\u4e86authentication_string\u3002"),(0,l.kt)("p",null,"\u6ce8\u610f\uff1apassword() \u52a0\u5bc6\u51fd\u6570\u5df2\u7ecf\u5728 8.0.11 \u4e2d\u79fb\u9664\u4e86\uff0c\u53ef\u4ee5\u4f7f\u7528 MD5() \u51fd\u6570\u4ee3\u66ff\u3002"),(0,l.kt)("p",null,"\u6ce8\u610f\uff1a\u5728\u6ce8\u610f\u9700\u8981\u6267\u884c FLUSH PRIVILEGES \u8bed\u53e5\u3002 \u8fd9\u4e2a\u547d\u4ee4\u6267\u884c\u540e\u4f1a\u91cd\u65b0\u8f7d\u5165\u6388\u6743\u8868\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u4f60\u4e0d\u4f7f\u7528\u8be5\u547d\u4ee4\uff0c\u4f60\u5c31\u65e0\u6cd5\u4f7f\u7528\u65b0\u521b\u5efa\u7684\u7528\u6237\u6765\u8fde\u63a5mysql\u670d\u52a1\u5668\uff0c\u9664\u975e\u4f60\u91cd\u542fmysql\u670d\u52a1\u5668\u3002"),(0,l.kt)("p",null,"\u4f60\u53ef\u4ee5\u5728\u521b\u5efa\u7528\u6237\u65f6\uff0c\u4e3a\u7528\u6237\u6307\u5b9a\u6743\u9650\uff0c\u5728\u5bf9\u5e94\u7684\u6743\u9650\u5217\u4e2d\uff0c\u5728\u63d2\u5165\u8bed\u53e5\u4e2d\u8bbe\u7f6e\u4e3a 'Y' \u5373\u53ef\uff0c\u7528\u6237\u6743\u9650\u5217\u8868\u5982\u4e0b\uff1a"),(0,l.kt)("p",null,"Select_priv\nInsert_priv\nUpdate_priv\nDelete_priv\nCreate_priv\nDrop_priv\nReload_priv\nShutdown_priv\nProcess_priv\nFile_priv\nGrant_priv\nReferences_priv\nIndex_priv\nAlter_priv\n\u53e6\u5916\u4e00\u79cd\u6dfb\u52a0\u7528\u6237\u7684\u65b9\u6cd5\u4e3a\u901a\u8fc7SQL\u7684 GRANT \u547d\u4ee4\uff0c\u4ee5\u4e0b\u547d\u4ee4\u4f1a\u7ed9\u6307\u5b9a\u6570\u636e\u5e93TUTORIALS\u6dfb\u52a0\u7528\u6237 zara \uff0c\u5bc6\u7801\u4e3a zara123 \u3002"),(0,l.kt)("p",null,"root@host# mysql -u root -p\nEnter password:",(0,l.kt)("strong",{parentName:"p"},"***"),"\nmysql> use mysql;\nDatabase changed"),(0,l.kt)("p",null,"mysql> GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP\n-> ON TUTORIALS.*\n-> TO 'zara'@'localhost'\n-> IDENTIFIED BY 'zara123';\n\u4ee5\u4e0a\u547d\u4ee4\u4f1a\u5728mysql\u6570\u636e\u5e93\u4e2d\u7684user\u8868\u521b\u5efa\u4e00\u6761\u7528\u6237\u4fe1\u606f\u8bb0\u5f55\u3002"),(0,l.kt)("p",null,"\u6ce8\u610f: MySQL \u7684SQL\u8bed\u53e5\u4ee5\u5206\u53f7 (;) \u4f5c\u4e3a\u7ed3\u675f\u6807\u8bc6\u3002"),(0,l.kt)("h2",{id:"etcmycnf-\u6587\u4ef6\u914d\u7f6e"},"/etc/my.cnf \u6587\u4ef6\u914d\u7f6e"),(0,l.kt)("p",null,"\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u4f60\u4e0d\u9700\u8981\u4fee\u6539\u8be5\u914d\u7f6e\u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u9ed8\u8ba4\u914d\u7f6e\u5982\u4e0b\uff1a"),(0,l.kt)("p",null,"[mysqld]","\ndatadir=/var/lib/mysql\nsocket=/var/lib/mysql/mysql.sock"),(0,l.kt)("p",null,"[mysql.server]","\nuser=mysql\nbasedir=/var/lib"),(0,l.kt)("p",null,"[safe_mysqld]","\nerr-log=/var/log/mysqld.log\npid-file=/var/run/mysqld/mysqld.pid\n\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u4f60\u53ef\u4ee5\u6307\u5b9a\u4e0d\u540c\u7684\u9519\u8bef\u65e5\u5fd7\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\uff0c\u4e00\u822c\u4f60\u4e0d\u9700\u8981\u6539\u52a8\u8fd9\u4e9b\u914d\u7f6e\u3002"),(0,l.kt)("h2",{id:"\u7ba1\u7406mysql\u7684\u547d\u4ee4"},"\u7ba1\u7406MySQL\u7684\u547d\u4ee4"),(0,l.kt)("p",null,"\u4ee5\u4e0b\u5217\u51fa\u4e86\u4f7f\u7528Mysql\u6570\u636e\u5e93\u8fc7\u7a0b\u4e2d\u5e38\u7528\u7684\u547d\u4ee4\uff1a"),(0,l.kt)("p",null,"USE \u6570\u636e\u5e93\u540d :\n\u9009\u62e9\u8981\u64cd\u4f5c\u7684Mysql\u6570\u636e\u5e93\uff0c\u4f7f\u7528\u8be5\u547d\u4ee4\u540e\u6240\u6709Mysql\u547d\u4ee4\u90fd\u53ea\u9488\u5bf9\u8be5\u6570\u636e\u5e93\u3002"),(0,l.kt)("p",null,"mysql> use RUNOOB;\nDatabase changed\nSHOW DATABASES:\n\u5217\u51fa MySQL \u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u7684\u6570\u636e\u5e93\u5217\u8868\u3002"),(0,l.kt)("p",null,"mysql> SHOW DATABASES;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| RUNOOB             |\n| cdcol              |\n| mysql              |\n| onethink           |\n| performance_schema |\n| phpmyadmin         |\n| test               |\n| wecenter           |\n| wordpress          |\n+--------------------+\n10 rows in set (0.02 sec)\nSHOW TABLES:\n\u663e\u793a\u6307\u5b9a\u6570\u636e\u5e93\u7684\u6240\u6709\u8868\uff0c\u4f7f\u7528\u8be5\u547d\u4ee4\u524d\u9700\u8981\u4f7f\u7528 use \u547d\u4ee4\u6765\u9009\u62e9\u8981\u64cd\u4f5c\u7684\u6570\u636e\u5e93\u3002"),(0,l.kt)("p",null,"mysql> use RUNOOB;\nDatabase changed\nmysql> SHOW TABLES;\n+------------------+\n| Tables_in_runoob |\n+------------------+\n| employee_tbl     |\n| runoob_tbl       |\n| tcount_tbl       |\n+------------------+\n3 rows in set (0.00 sec)\nSHOW COLUMNS FROM \u6570\u636e\u8868:\n\u663e\u793a\u6570\u636e\u8868\u7684\u5c5e\u6027\uff0c\u5c5e\u6027\u7c7b\u578b\uff0c\u4e3b\u952e\u4fe1\u606f \uff0c\u662f\u5426\u4e3a NULL\uff0c\u9ed8\u8ba4\u503c\u7b49\u5176\u4ed6\u4fe1\u606f\u3002"),(0,l.kt)("p",null,"mysql> SHOW COLUMNS FROM runoob_tbl;\n+-----------------+--------------+------+-----+---------+-------+\n| Field           | Type         | Null | Key | Default | Extra |\n+-----------------+--------------+------+-----+---------+-------+\n| runoob_id       | int(11)      | NO   | PRI | NULL    |       |\n| runoob_title    | varchar(255) | YES  |     | NULL    |       |\n| runoob_author   | varchar(255) | YES  |     | NULL    |       |\n| submission_date | date         | YES  |     | NULL    |       |\n+-----------------+--------------+------+-----+---------+-------+\n4 rows in set (0.01 sec)\nSHOW INDEX FROM \u6570\u636e\u8868:\n\u663e\u793a\u6570\u636e\u8868\u7684\u8be6\u7ec6\u7d22\u5f15\u4fe1\u606f\uff0c\u5305\u62ecPRIMARY KEY\uff08\u4e3b\u952e\uff09\u3002"),(0,l.kt)("p",null,"mysql> SHOW INDEX FROM runoob_tbl;\n+------------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n| Table      | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment |\n+------------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n| runoob_tbl |          0 | PRIMARY  |            1 | runoob_id   | A         |           2 |     NULL | NULL   |      | BTREE      |         |               |\n+------------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n1 row in set (0.00 sec)\nSHOW TABLE STATUS ","[FROM db_name][LIKE 'pattern']"," \\G:\n\u8be5\u547d\u4ee4\u5c06\u8f93\u51faMysql\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u7684\u6027\u80fd\u53ca\u7edf\u8ba1\u4fe1\u606f\u3002"),(0,l.kt)("p",null,"mysql> SHOW TABLE STATUS  FROM RUNOOB;   # \u663e\u793a\u6570\u636e\u5e93 RUNOOB \u4e2d\u6240\u6709\u8868\u7684\u4fe1\u606f"),(0,l.kt)("p",null,"mysql> SHOW TABLE STATUS from RUNOOB LIKE 'runoob%';     # \u8868\u540d\u4ee5runoob\u5f00\u5934\u7684\u8868\u7684\u4fe1\u606f\nmysql> SHOW TABLE STATUS from RUNOOB LIKE 'runoob%'\\G;   # \u52a0\u4e0a \\G\uff0c\u67e5\u8be2\u7ed3\u679c\u6309\u5217\u6253\u5370\nGif \u56fe\u6f14\u793a\uff1a"))}y.isMDXComponent=!0}}]);